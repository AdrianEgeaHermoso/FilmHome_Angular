<div class="grid">
  <div class="col-4">

      <p-card header="HOME" [style]="{'background-color':'#3393C8'}">
          <i class="pi pi-home" style="font-size: 2rem"></i>
          <button pButton type="button" class="p-button-primary"><a href='http://localhost:4200/'>Home</a></button><br>
      </p-card>

      <p-card header="BIENVENIDO" [style]="{'background-color':'#21E2F2'}">
          <p-avatar image="/assets/img/adri2.png" size="xlarge" shape="circle"></p-avatar><br>
          Este es tu panel de control, desde aquí podrás acceder a tu listado de películas y ver las diferentes
          novedades.
      </p-card>
  </div>

  <div class="col-4">

      <p-card header="LISTADO DE PELÍCULAS" [style]="{'background-color':'#3393C8'}">
          <i class="pi pi-list" style="font-size: 2rem"></i>
      </p-card>

      <p-card header="Pulsa en el Icono para acceder a tu listado" [style]="{'background-color':'#21E2F2'}">
          <button pButton type="button" label="Listado" routerLink="/table" class="p-button-primary"></button> <br>
      </p-card>
  </div>
  <div class="col-4">
      <!--<app-calendar></app-calendar>-->
  </div>
</div>





<div class="grid">
  <div class="col-4">

      <p-card header="RECOMENDACIONES" [style]="{'background-color':'#3393C8'}">
          <i class="pi pi-eye" style="font-size: 2rem"></i>
      </p-card>
      <p-card header="Introduzca Su Edad" [style]="{'background-color':'#21E2F2'}">

          <input type="number" [(ngModel)]="edad" min="0" max="99">

          <p *ngIf="edad > 0 && edad <= 5">
              <b>La Patrulla Canina</b><br>
              <img src="../assets/img/patrulla.jpeg" width="200" height="250">
          </p>
          <p *ngIf="edad > 5 && edad <= 10">
              <b>Frozen</b><br>
              <img src="../assets/img/frozen.jpg" width="200" height="250" >
          </p>
          <p *ngIf="edad > 10 && edad <= 15">
              <b>El Rey León</b><br>
              <img src="../assets/img/rey.jpeg" width="200">
          </p>
          <p *ngIf="edad > 15 && edad <= 20">
              <b>Algo Pasa Con Mary</b><br>
              <img src="../assets/img/mary.jpg" width="200">
          </p>
          <p *ngIf="edad > 20 && edad <= 30">
              <b>Matrix</b><br>
              <img src="../assets/img/matrix1.jpg" width="200">
          </p>
          <p *ngIf="edad > 30 && edad <= 40">
              <b>Joker</b><br>
              <img src="../assets/img/joker.jpg" width="200">
          </p>

          <p *ngIf="edad > 40  && edad <= 50">
              <b>La Lista De Schindler</b><br>
              <img src="../assets/img/lista.jpg" width="200">
          </p>
          <p *ngIf="edad > 50 && edad <= 99">
              <b>Titanic</b><br>
              <img src="../assets/img/titanic.jpg" width="200">
          </p>

      </p-card>
  </div>

  <div class="col-4">
      <p-card header="HOMENAJEADOS DEL MES" [style]="{'background-color':'#3393C8'}">
          <i class="pi pi-star-fill" style="font-size: 2rem"></i>
      </p-card>
      <p-card [style]="{'background-color':'#21E2F2'}">
          

          <ul *ngFor="let image of images">
              <img [src]="image.src" alt="" style="width:60%;height:90%;">
          
          </ul>

      </p-card>
      <!--<textarea pInputTextarea></textarea> Input para area de texto tipo notas-->
      

  </div>
  <div class="col-4">
      <p-card header="PRÓXIMOS ESTRENOS" [style]="{'background-color':'#3393C8'}">
          <i class="pi pi-ticket" style="font-size: 2rem"></i>
      </p-card>
      <p-card [style]="{'background-color':'#21E2F2'}">
          <ul>
              <li>Spider-Man: No Way Home <b>16/12</b></li>
              <img src="../assets/img/spidi.jpg" alt="Spiderman No Way Home" style="width:30%;height:60%;">
              <li>Matrix Resurrections <b>22/12</b></li>
              <img src="../assets/img/matrix.jpg" alt="Matrix Resurrections" style="width:30%;height:60%;">
              <li>West Side Story <b>22/12</b> </li>
              <img src="../assets/img/west.jpg" alt="West Side Story" style="width:30%;height:60%;">
          </ul>
      </p-card>
  </div>

</div>


<div class="layout-dashboard">
  <div class="p-grid ui-fluid">
    <div class="p-col-12 p-lg-6">
      <div class="card card-w-title">
        <h1>Discharge of Products</h1>
        <form class="p-grid" [formGroup]="productForm" (ngSubmit)="formSubmit()">
          <div class="col-12 p-6">
            <input id="description" type="text" placeholder="Description" formControlName="description"><br>
            <input id="purchasePrice" type="number" placeholder="PurchasePrice" formControlName="purchasePrice"><br>
            <input id="salePrice" type="number" placeholder="SalePrice" formControlName="salePrice"><br>
            <input id="stock" type="number" placeholder="Stock" formControlName="stock"><br>
            <input id="picture" type="text" placeholder="Picture" formControlName="picture"><br>
            <p></p>
            <button type="submit" icon="pi pi-check" class="p-button">{{formButtonText}}</button>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>

<p-panel header="PRODUCTS LIST">

  <p-table [value]="(products | async)!" [paginator]="true" [rows]="5">
    <ng-template pTemplate="header">
      <tr>
        <th>Image</th>
        <th>Description</th>
        <th>Purchase price</th>
        <th>Sale price</th>
        <th>Stock</th>
        <th>Update</th>
        <th>Delete</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-p>
      <tr>
        <td><img [src]="p.picture" width="60px"></td>
        <td>{{ p.description }}</td>
        <td>{{ p.purchasePrice }}</td>
        <td>{{ p.salePrice }}</td>
        <td>{{ p.stock }}</td>
        <td>
          <button pButton type="button" icon="pi pi-pencil" class="p-button-rounded"
            (click)="updateProductStep1(p.productId)" title="update product">
          </button>
        </td>
        <td>
          <button pButton type="button" icon="pi pi-trash" class="p-button-rounded"
            (click)="confirmDeleteProduct(p)" title="delete product">
          </button>
        </td>
      </tr>
    </ng-template>
  </p-table>




<!-- FORM DIALOG -->

<div class="add-button">

  <p-speedDial (click)="displayProductForm = true" buttonClassName="p-button-warning">

  </p-speedDial>
</div>




<p-dialog [(visible)]="displayProductForm" [style]="{width:'40vw'}">
  <ng-template pTemplate="header">
    Product
  </ng-template>


  <form [formGroup]="productForm" (ngSubmit)="formSubmit()">

    <div class="card">

      <div class="field">
        <label for="description">Description: </label>
        <input class="inputfield w-full" pInputText id="description" type="text" formControlName="description">
      </div>

      <div class="field">
        <label for="purchasePrice">Purchase Price: </label>
        <input pInputText class="inputfield w-full" id="purchasePrice" type="number" formControlName="purchasePrice"
         mode="currency" currency="EUR">
      </div>

      <div class="field">
        <label for="salePrice">Sale Price: </label>
        <input pInputText class="inputfield w-full" id="salePrice" type="number" formControlName="salePrice">
      </div>

      <div class="field">
        <label for="stock">Stock: </label>
        <input pInputText class="inputfield w-full" id="stock" type="number" formControlName="stock">
      </div>
      <div class="field">
      <label for="picture">Picture: </label>
      <input pInputText class="inputfield w-full" id="picture" type="text" formControlName="picture"><br>
    </div>
    </div>

    <p-footer>

      <p-button type="submit" [label]="formButtonText" styleClass="p-button-success"></p-button>

      <p-button (click)="cancel()" label="Cancel" styleClass="p-button-danger">

      </p-button>

    </p-footer>


  </form>



</p-dialog>




<!-- DELETE DIALOG CONFIRM -->


<p-dialog [(visible)]="displayConfirmDelete">

  <div class="card">
    Are you sure want to delete the product <b>{{descriptionForDeletion}}</b>?
  </div>

  <p-footer>
    <p-button (click)="deleteProduct()" label="Yes"></p-button>
    &nbsp;
    <p-button (click)="displayConfirmDelete = false" label="No"></p-button>
  </p-footer>

</p-dialog>

</p-panel>